# name: test/sql/try_cast_strict.test
# description: test try_cast_strict extension
# group: [try_cast_strict]

# Before we load the extension, this will fail
statement error
SELECT try_cast_strict('1.1', 'INTEGER');
----
Catalog Error: Scalar Function with name try_cast_strict does not exist!

#----------- Confirm the extension works
# Require statement will ensure this test is run with this extension loaded
require try_cast_strict

#--- Integer cast

query I
SELECT try_cast_strict('1.1', 'INTEGER');
----
NULL

query I
SELECT try_cast_strict('1', 'INTEGER');
----
1

#--- Decimal cast

query I
SELECT try_cast_strict('1', 'DECIMAL(1,0)');
----
1

query I
SELECT try_cast_strict('1.1', 'DECIMAL(1,0)');
----
NULL

query I
SELECT try_cast_strict('1.0', 'DECIMAL(1,0)');
----
1

query I
SELECT try_cast_strict('1.100', 'DECIMAL(3,2)');
----
1.10